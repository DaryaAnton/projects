(()=>{"use strict";fetch("./dbHeroes.json").then((e=>e.json())).then((e=>{(e=>{const t=document.querySelector(".hero__wrapper");t.innerHTML="",e.forEach((e=>{let n="",a="";["name","realName","actors","gender","species","citizenship","status","birthDay","deathDay"].forEach((t=>{void 0!==e[t]&&(n+=`<div class="hero__list"><span>${t}:</span> ${e[t]}</div>`)})),e.movies&&Array.isArray(e.movies)&&(a=`<ul class="hero__card-movies"><span>movies:</span>${e.movies.map((e=>`<li>${e}</li>`)).join("")}</ul>`),t.insertAdjacentHTML("beforeend",`\n            <div class="hero__card" \n            data-status="${(e.status||"").toLowerCase()}" \n            data-gender="${(e.gender||"").toLowerCase()}" \n            data-species="${(e.species||"").toLowerCase()}">\n                <div class="hero__card-front" style="background-image: url('${e.photo}')">\n                </div>\n\n                <div class="hero__card-back">\n                    ${n}  \n                    ${a}             \n                </div>\n            </div>\n        `)}))})(e),(e=>{const t=document.getElementById("movies"),n=document.getElementById("status"),a=document.getElementById("gender"),s=document.getElementById("species"),o=new Set,r=new Set,d=new Set,c=new Set,i=document.querySelectorAll(".hero__card"),l={status:"",gender:"",species:""};e.forEach((e=>{e.movies&&e.movies.forEach((e=>{o.add(e)})),e.status&&r.add(e.status.toLowerCase()),e.gender&&d.add(e.gender.toLowerCase()),e.species&&c.add(e.species.toLowerCase())})),o.forEach((e=>{const n=document.createElement("option");n.textContent=e,t.append(n)})),t.addEventListener("change",(e=>{const t=e.target.value;""===t?i.forEach((e=>{e.style.display=""})):i.forEach((e=>{const n=e.querySelectorAll(".hero__card-movies li");Array.from(n).map((function(e){return e.textContent})).includes(t)?e.style.display="":e.style.display="none"}))})),r.forEach((e=>{const t=document.createElement("option");t.textContent=e,n.append(t)})),n.addEventListener("change",(e=>{const t=e.target.value;i.forEach((e=>{const n=e.getAttribute("data-status");e.style.display=""===t||n===t?"":"none"}))})),d.forEach((e=>{const t=document.createElement("option");t.textContent=e,a.append(t)})),a.addEventListener("change",(e=>{const t=e.target.value;i.forEach((e=>{const n=e.getAttribute("data-gender");e.style.display=""===t||n===t?"":"none"}))})),c.forEach((e=>{const t=document.createElement("option");t.textContent=e,s.append(t)})),s.addEventListener("change",(e=>{const t=e.target.value;i.forEach((e=>{const n=e.getAttribute("data-species");e.style.display=""===t||n===t?"":"none"}))}));const u=()=>{i.forEach((e=>{const t=""===l.status||e.getAttribute("data-status")===l.status,n=""===l.gender||e.getAttribute("data-gender")===l.gender,a=""===l.species||e.getAttribute("data-species")===l.species;e.style.display=t&&n&&a?"":"none"}))};n.addEventListener("change",(e=>{l.status=e.target.value,u()})),a.addEventListener("change",(e=>{l.gender=e.target.value,u()})),s.addEventListener("change",(e=>{l.species=e.target.value,u()}))})(e)})),(()=>{const e=document.querySelector(".preloader");window.addEventListener("load",(()=>{e.classList.add("hide"),setTimeout((()=>{e.remove()}),600)}))})()})();